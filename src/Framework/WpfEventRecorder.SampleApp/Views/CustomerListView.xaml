<UserControl x:Class="WpfEventRecorder.SampleApp.Views.CustomerListView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             mc:Ignorable="d"
             d:DesignHeight="450" d:DesignWidth="800">

    <UserControl.Resources>
        <Style x:Key="FormLabelStyle" TargetType="TextBlock">
            <Setter Property="Margin" Value="0,5,10,5"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
        </Style>

        <Style x:Key="FormTextBoxStyle" TargetType="TextBox">
            <Setter Property="Margin" Value="0,5"/>
            <Setter Property="Padding" Value="5"/>
            <Setter Property="Height" Value="28"/>
        </Style>

        <Style x:Key="FormComboBoxStyle" TargetType="ComboBox">
            <Setter Property="Margin" Value="0,5"/>
            <Setter Property="Padding" Value="5"/>
            <Setter Property="Height" Value="28"/>
        </Style>

        <Style x:Key="ActionButtonStyle" TargetType="Button">
            <Setter Property="Padding" Value="15,8"/>
            <Setter Property="Margin" Value="5"/>
            <Setter Property="MinWidth" Value="80"/>
        </Style>
    </UserControl.Resources>

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="350"/>
        </Grid.ColumnDefinitions>

        <!-- Left Panel - Customer List -->
        <DockPanel Grid.Column="0" Margin="10">
            <!-- Search Bar -->
            <Grid DockPanel.Dock="Top" Margin="0,0,0,10">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <TextBox Grid.Column="0"
                         Text="{Binding SearchText, UpdateSourceTrigger=PropertyChanged}"
                         Style="{StaticResource FormTextBoxStyle}"
                         AutomationProperties.AutomationId="txtSearch"/>

                <Button Grid.Column="1"
                        Content="Search"
                        Command="{Binding SearchCommand}"
                        Style="{StaticResource ActionButtonStyle}"
                        AutomationProperties.AutomationId="btnSearch"/>

                <Button Grid.Column="2"
                        Content="New"
                        Command="{Binding NewCommand}"
                        Style="{StaticResource ActionButtonStyle}"
                        AutomationProperties.AutomationId="btnNew"/>
            </Grid>

            <!-- Customer DataGrid -->
            <DataGrid ItemsSource="{Binding Customers}"
                      SelectedItem="{Binding SelectedCustomer}"
                      AutoGenerateColumns="False"
                      IsReadOnly="True"
                      SelectionMode="Single"
                      CanUserAddRows="False"
                      GridLinesVisibility="Horizontal"
                      AutomationProperties.AutomationId="dgCustomers">
                <DataGrid.Columns>
                    <DataGridTextColumn Header="ID" Binding="{Binding Id}" Width="50"/>
                    <DataGridTextColumn Header="Name" Binding="{Binding Name}" Width="*"/>
                    <DataGridTextColumn Header="Email" Binding="{Binding Email}" Width="*"/>
                    <DataGridTextColumn Header="Country" Binding="{Binding Country}" Width="100"/>
                    <DataGridCheckBoxColumn Header="Active" Binding="{Binding IsActive}" Width="60"/>
                </DataGrid.Columns>
            </DataGrid>
        </DockPanel>

        <!-- Right Panel - Customer Editor -->
        <Border Grid.Column="1"
                BorderBrush="LightGray"
                BorderThickness="1,0,0,0"
                Padding="15"
                IsEnabled="{Binding IsEditing}">

            <DockPanel>
                <TextBlock DockPanel.Dock="Top"
                           Text="Customer Details"
                           FontSize="16"
                           FontWeight="Bold"
                           Margin="0,0,0,15"/>

                <!-- Action Buttons -->
                <StackPanel DockPanel.Dock="Bottom"
                            Orientation="Horizontal"
                            HorizontalAlignment="Right"
                            Margin="0,15,0,0">

                    <Button Content="Save"
                            Command="{Binding SaveCommand}"
                            Style="{StaticResource ActionButtonStyle}"
                            AutomationProperties.AutomationId="btnSave"/>

                    <Button Content="Delete"
                            Command="{Binding DeleteCommand}"
                            Style="{StaticResource ActionButtonStyle}"
                            AutomationProperties.AutomationId="btnDelete"/>

                    <Button Content="Cancel"
                            Command="{Binding CancelCommand}"
                            Style="{StaticResource ActionButtonStyle}"
                            AutomationProperties.AutomationId="btnCancel"/>
                </StackPanel>

                <!-- Form Fields -->
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <Grid DataContext="{Binding EditorViewModel}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="80"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>

                        <!-- Name -->
                        <TextBlock Grid.Row="0" Grid.Column="0"
                                   Text="Name:"
                                   Style="{StaticResource FormLabelStyle}"/>
                        <TextBox Grid.Row="0" Grid.Column="1"
                                 Text="{Binding Name, UpdateSourceTrigger=PropertyChanged}"
                                 Style="{StaticResource FormTextBoxStyle}"
                                 AutomationProperties.AutomationId="txtName"/>

                        <!-- Email -->
                        <TextBlock Grid.Row="1" Grid.Column="0"
                                   Text="Email:"
                                   Style="{StaticResource FormLabelStyle}"/>
                        <TextBox Grid.Row="1" Grid.Column="1"
                                 Text="{Binding Email, UpdateSourceTrigger=PropertyChanged}"
                                 Style="{StaticResource FormTextBoxStyle}"
                                 AutomationProperties.AutomationId="txtEmail"/>

                        <!-- Phone -->
                        <TextBlock Grid.Row="2" Grid.Column="0"
                                   Text="Phone:"
                                   Style="{StaticResource FormLabelStyle}"/>
                        <TextBox Grid.Row="2" Grid.Column="1"
                                 Text="{Binding Phone, UpdateSourceTrigger=PropertyChanged}"
                                 Style="{StaticResource FormTextBoxStyle}"
                                 AutomationProperties.AutomationId="txtPhone"/>

                        <!-- Country -->
                        <TextBlock Grid.Row="3" Grid.Column="0"
                                   Text="Country:"
                                   Style="{StaticResource FormLabelStyle}"/>
                        <ComboBox Grid.Row="3" Grid.Column="1"
                                  SelectedValue="{Binding Country}"
                                  Style="{StaticResource FormComboBoxStyle}"
                                  AutomationProperties.AutomationId="cmbCountry"
                                  IsEditable="True">
                            <ComboBoxItem Content="USA"/>
                            <ComboBoxItem Content="UK"/>
                            <ComboBoxItem Content="Canada"/>
                            <ComboBoxItem Content="Germany"/>
                            <ComboBoxItem Content="France"/>
                            <ComboBoxItem Content="Australia"/>
                            <ComboBoxItem Content="Japan"/>
                        </ComboBox>

                        <!-- Company -->
                        <TextBlock Grid.Row="4" Grid.Column="0"
                                   Text="Company:"
                                   Style="{StaticResource FormLabelStyle}"/>
                        <TextBox Grid.Row="4" Grid.Column="1"
                                 Text="{Binding Company, UpdateSourceTrigger=PropertyChanged}"
                                 Style="{StaticResource FormTextBoxStyle}"
                                 AutomationProperties.AutomationId="txtCompany"/>

                        <!-- Active -->
                        <TextBlock Grid.Row="5" Grid.Column="0"
                                   Text="Active:"
                                   Style="{StaticResource FormLabelStyle}"/>
                        <CheckBox Grid.Row="5" Grid.Column="1"
                                  IsChecked="{Binding IsActive}"
                                  Content="Customer is active"
                                  Margin="0,8"
                                  AutomationProperties.AutomationId="chkActive"/>

                        <!-- Notes -->
                        <TextBlock Grid.Row="6" Grid.Column="0"
                                   Text="Notes:"
                                   Style="{StaticResource FormLabelStyle}"
                                   VerticalAlignment="Top"/>
                        <TextBox Grid.Row="6" Grid.Column="1"
                                 Text="{Binding Notes, UpdateSourceTrigger=PropertyChanged}"
                                 Height="80"
                                 TextWrapping="Wrap"
                                 AcceptsReturn="True"
                                 VerticalScrollBarVisibility="Auto"
                                 Margin="0,5"
                                 Padding="5"
                                 AutomationProperties.AutomationId="txtNotes"/>

                        <!-- Validation Error -->
                        <TextBlock Grid.Row="7" Grid.Column="0" Grid.ColumnSpan="2"
                                   Text="{Binding ValidationError}"
                                   Foreground="Red"
                                   Margin="0,5"
                                   Visibility="{Binding ValidationError, Converter={StaticResource NullToVisibilityConverter}, FallbackValue=Collapsed}"/>
                    </Grid>
                </ScrollViewer>
            </DockPanel>
        </Border>
    </Grid>
</UserControl>
